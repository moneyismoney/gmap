"use strict";function initMap(){el=document.getElementById("map"),map=new google.maps.Map(el,{center:{lat:50.435286,lng:30.574576},zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP}),/file:/.test(window.location.protocol)?map.data.addGeoJson(realData):map.data.loadGeoJson("js/new1.json");var a=function(a){function b(a){if(!a)return!1;var b=a.getNorthEast(),c=a.getSouthWest();return{north:b.lat(),south:c.lat(),east:b.lng(),west:c.lng()}}function c(b){return new google.maps.Rectangle({strokeColor:"#FF0000",strokeOpacity:.65,strokeWeight:.1,fillColor:"#F0F000",fillOpacity:1,map:a.map,bounds:b})}var d,e=a.grid,f=a.scale,g=b(a.map.getBounds()),h=([f[0]/e[0],f[1]/e[1]],g.north-g.south),i=g.east-g.west,j=h/e[0],k=i/e[1];({lng:f[0]/i,lat:f[1]/h});return{createGrid:function(){var a,b,c,d=e[1],f=[],h=[];for(d++;d--;)b=g.west+k*d,c=g.south+j*d,a=d%2==0,f[f.length]={lat:g[a?"north":"south"],lng:b},f[f.length]={lat:g[a?"south":"north"],lng:b},h[h.length]={lat:c,lng:g[a?"west":"east"]},h[h.length]={lat:c,lng:g[a?"east":"west"]};f=f.concat(h);var i=new google.maps.Polyline({path:f,strokeColor:"#888888",strokeOpacity:1,strokeWeight:1});return i.setMap(map),this},data:function(a){return d=a,this},setMarker:function(a,b,d){var e=Math.floor((a-g.west)/k)*k,f=Math.floor((b-g.south)/j)*j;this.setNewColor(c({north:f+g.south+j,south:f+g.south,east:e+g.west+k,west:e+g.west}),d,1)},setNewColor:function(a,b,c){return window.setTimeout(function(){a.setOptions({fillColor:b,fillOpacity:c})},100),this}}},b=setInterval(function(){if(map.getBounds()){clearInterval(b);var c=a({scale:[el.offsetWidth,el.offsetHeight],map:map,grid:[40,40]});c.createGrid(),map.data.setStyle(function(a){var b=a.getGeometry().get();return c.setMarker(b.lng(),b.lat(),a.getProperty("color")),{strokeColor:"#FF0000",fillColor:"green",strokeWeight:1,icon:{path:google.maps.SymbolPath.CIRCLE,scale:2}}})}},200)}var el,map,rec=[];